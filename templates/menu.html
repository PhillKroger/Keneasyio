{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
      <link rel="stylesheet" href="{% static 'css/stylesheet.css'%}" type="text/css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@700&display=swap" rel="stylesheet">
      <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@1,900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@800&display=swap" rel="stylesheet">
  </head>
  <body>

<script>
onload = function ()
{
   function randomdigit (olddigit)
   {
   var newdigit = Math.floor (Math.random () * 10);
   if (newdigit == olddigit) return randomdigit (olddigit);
   else return newdigit;
   }

var rect = document.getElementById ('rectangle');
rect.style.top = ((document.body.offsetHeight - 170) / 2) + 'px';
rect.style.left = ((document.body.offsetWidth - 390) / 2) + 'px';

var circ = document.getElementById ('circle');
circ.style.left = '30px';

var fld = document.getElementById ('field');
fld.onblur = function () {fld.focus ();}
fld.focus ();
var repeat = 0;
fld.onkeypress = function (ev)
   {
   var e = window.event || ev;
   repeat++
   if (String.fromCharCode(e.which) != rect.innerHTML)
      {
      rect.className = 'error';
      }
   else {
        circ.style.left = (parseInt (circ.style.left) + 3) + 'px';
        rect.className = '';
        if (repeat < 30)
           {
           rect.innerHTML = randomdigit (rect.innerHTML);
           fld.focus ();
           }
        else
           {
           fld.onkeypress= '';
           alert ('Работа программы завершена, кружок сместился вправо на 100 "шагов"');
           }
        }
   }
document.onclick = function () {fld.focus ();}
setInterval (function () {if (!document.hasFocus()) fld.focus ();}, 10);
fld.focus ();
rect.innerHTML = randomdigit (-1);

}
</script>

    <div class="header">
        {% if request.user.is_authenticated %}
          <ul style="text-align: center;">
            <li><h4><a href="/" style="text-decoration: none;">home</a></h4></li>
            <li><h4><a href="http://127.0.0.1:8000/about/" style="text-decoration: none;">about</a></h4></li>
            <li><h4><a href="http://127.0.0.1:8000/filter/" style="text-decoration: none;">filter</a></h4></li>
            <li><h4><a href="{% url 'profiles:profile' %}" style="text-decoration: none;">profile</a></h4></li>
            <li><h4><a href="{% url 'profiles:logout' %}" style="text-decoration: none;">logout</a></h4></li>
            <li><h4>{{ user.username }}</h4></li>

              {% else %}
                <ul style="text-align: center;">
                <li><h4><a href="/" style="text-decoration: none;">home</a></h4></li>
                <li><h4><a href="http://127.0.0.1:8000/about/" style="text-decoration: none;">about</a></h4></li>
                <li><h4><a href="http://127.0.0.1:8000/filter/" style="text-decoration: none;">filter</a></h4></li>
                <li><h4><a href="{% url 'profiles:login' %}" style="text-decoration: none;">sign in</a></h4></li>
                <li><h4><a href="{% url 'profiles:register' %}" style="text-decoration: none;">sign up</a></h4></li>

            {% endif %}


    </div>
  </body>